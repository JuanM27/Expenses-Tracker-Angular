<div class="flex flex-wrap">
  <div class="w-full px-4">
    <div class="relative flex flex-col min-w-0 break-words w-full mb-4 shadow-lg rounded-lg bg-white text-blueGray-700">
      <div class="px-6 py-4 border-0">
        <div class="flex flex-wrap items-center">
          <div class="relative w-full max-w-full flex-grow flex-1 items-center">
            <h1 class="font-bold text-l text-blueGray-700">
              Últimos Gastos
            </h1>
          </div>
        </div>
      </div>
      <div class="block w-full overflow-x-auto max-h-[500px] overflow-y-auto">
        <table class="items-center w-full bg-transparent border-collapse">
          <thead>
            <tr>
              <th class="px-4 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left bg-blueGray-100 text-blueGray-500 border-blueGray-200 w-[20%]">
                Nombre
              </th>
              <th class="px-4 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left bg-blueGray-100 text-blueGray-500 border-blueGray-200 w-[20%]">
                Fecha
              </th>
              <th class="px-4 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left bg-blueGray-100 text-blueGray-500 border-blueGray-200 w-[20%]">
                Categoría
              </th>
              <th class="px-4 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left bg-blueGray-100 text-blueGray-500 border-blueGray-200 w-[20%]">
                Precio
              </th>
              <th class="px-4 align-middle border border-solid py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-bold text-left bg-blueGray-100 text-blueGray-500 border-blueGray-200 w-[20%]">
                Acciones
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let gasto of filteredGastos">
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4">
                {{ gasto.Descripcion }}
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4">
                {{ formatearFecha(gasto.Fecha.toString()) }} 
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4">
                {{ obtenerNombreCategoria(gasto.ID_Categoria) }}
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4 font-bold">
                {{ gasto.Cantidad }} €
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-sm whitespace-nowrap p-4">
                <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded" (click)="abrirModalEditarGasto(gasto)">
                  <i class="fas fa-pencil-alt"></i>
                </button>
                <span class="inline-block w-4"></span>
                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded" (click)="borrarGasto(gasto.ID_Gasto)">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </td>                
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <td colspan="3" class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xl whitespace-nowrap p-4 text-right font-bold">
                Total:
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xl whitespace-nowrap p-4 font-bold">
                {{ getTotalGastos() }} €
              </td>
              <td class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-xl whitespace-nowrap p-4">
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>
